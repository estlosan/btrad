const config = require('./config.js');
const path = require('path');

//CONSTS

let bot = {};
let paperTrading = {}
//CODE

let strategyData = require(path.resolve(__dirname, `./strategies/${config.strategyName}/strategy.js`))


bot.actualCandle = undefined;
bot.lookback = [];

candleClose = [0.0019685 ,0.0019674 ,0.0019667 ,0.001969 ,0.0019678 ,0.0019671 ,0.0019666 ,
    0.0019682 ,0.0019693 ,0.0019679 ,0.0019689 ,0.0019683 ,0.0019678 ,0.0019692 ,0.0019687 ,
    0.0019687 ,0.0019699 ,0.0019693 ,0.0019697 ,0.0019714 ,0.0019707 ,0.0019702 ,0.001971 ,
    0.0019715 ,0.00197 ,0.0019729 ,0.0019738 ,0.001972 ,0.0019732 ,0.0019739 ,0.0019728 ,0.0019718 ,
    0.0019682 ,0.0019661 ,0.0019639 ,0.0019634 ,0.0019633 ,0.0019631 ,0.0019628 ,0.0019627 ,0.001962 ,
    0.0019618 ,0.0019627 ,0.001959 ,0.0019593 ,0.0019575 ,0.0019585 ,0.0019585 ,0.0019592 ,0.0019581 ,
    0.0019585 ,0.00196 ,0.0019623 ,0.0019612 ,0.0019619 ,0.0019641 ,0.0019599 ,0.0019604 ,0.0019597 ,
    0.0019575 ,0.0019587 ,0.0019588 ,0.0019586 ,0.0019589 ,0.0019571 ,0.0019575 ,0.001959 ,0.0019598 ,
    0.0019596 ,0.0019611 ,0.0019598 ,0.0019607 ,0.0019619 ,0.0019613 ,0.0019626 ,0.0019625 ,0.0019634 ,
    0.0019633 ,0.0019623 ,0.0019623 ,0.0019622 ,0.0019615 ,0.0019618 ,0.0019616 ,0.0019626 ,0.0019624 ,0.0019618 ,
    0.0019634 ,0.0019643 ,0.0019616 ,0.0019641 ,0.0019658 ,0.0019647 ,0.0019658 ,0.0019646 ,0.0019649 ,0.0019664 ,
    0.0019656 ,0.001964] //El primero es el m√°s antiguo

for (let i = 0; i < candleClose.length; i++){
    bot.actualCandle = {
        close: parseFloat(candleClose[i]),
    }
    strategyData.onCandle(bot, paperTrading)
    bot.lookback.unshift(bot.actualCandle);
}

console.log(bot)